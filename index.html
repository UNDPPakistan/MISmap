<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>DC.js - Grouping - jsFiddle demo</title>
  
  <script type='text/javascript' src='//code.jquery.com/jquery-2.0.2.js'></script>
  
  
  
  
  <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  
    
      <script type='text/javascript' src="http://underscorejs.org/underscore-min.js"></script>
    
  
    
      <script type='text/javascript' src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.9/d3.js"></script>
    
  
    
      <script type='text/javascript' src="http://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.7/crossfilter.js"></script>
    
  
    
      <script type='text/javascript' src="http://dc-js.github.io/dc.js/js/dc.js"></script>
    
  
    
      <link rel="stylesheet" type="text/css" href="http://dc-js.github.io/dc.js/css/dc.css">
    
  
  <style type='text/css'>
    
  </style>
  


<script type='text/javascript'>//<![CDATA[ 
$(window).load(function(){
var exp1 = [
    { Local_Beneficiaries: 167, Afghan_Beneficiaries: 63},
    { Local_Beneficiaries: 212, Afghan_Beneficiaries: 78},
    { Local_Beneficiaries: 165, Afghan_Beneficiaries: 43},
    { Local_Beneficiaries: 300, Afghan_Beneficiaries: 100},
    { Local_Beneficiaries: 270, Afghan_Beneficiaries: 300},

];
  
  
var exp2 = [
    { CO_formed: 25,VO_formed:65,LSO_ormed:45},
     { CO_formed: 32,VO_formed:54,LSO_ormed:30},
    { CO_formed: 42,VO_formed:54,LSO_ormed:20},

];
// Reshape the data 
var cfB = new Array();
exp1.forEach(function (exp) {
   cfB.push({ Category: "Local", Value: exp.Local_Beneficiaries });
   cfB.push({ Category: "Afghan", Value: exp.Afghan_Beneficiaries });
   
});
var cfO = new Array();
exp2.forEach(function (expO) {
    cfO.push({ Category: "COs", Value: expO.CO_formed });
    cfO.push({ Category: "VOs", Value: expO.VO_formed });
    cfO.push({ Category: "LSOs", Value: expO.LSO_ormed });
});

// Setup crossfilter
ndxB = crossfilter(cfB);
categoryDim = ndxB.dimension(function (d) { return d.Category; });
valueSumGroup = categoryDim.group().reduceSum(function (d) { return d.Value; });

ndxO = crossfilter(cfO);
categoryDimO = ndxO.dimension(function (d) { return d.Category; });
valueSumGroupO = categoryDimO
.group()
.reduceSum(function (d) { return d.Value; });

// Create the chart
var pieChartB = dc.pieChart("#Benefi");
pieChartB.dimension(categoryDim).group(valueSumGroup).radius(90)
;
var pieChartO = dc.pieChart("#Organi");
pieChartO.dimension(categoryDimO).group(valueSumGroupO).radius(90)
;

dc.renderAll();
});//]]>  

</script>


</head>
<body>
  <div id="Benefi" class="col-xs-2">
              <h4>Beneficiaries </h4>
           		 </div>
            		<div id="Organi" class="col-xs-6">
              <h4>Organizations</h4>
           		 </div>
         
  
</body>


</html>
